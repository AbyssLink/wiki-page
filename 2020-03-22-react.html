<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>React 入门</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="style.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">React 入门</h1>
<p class="date">2020-03-22T17:46:12+08:00</p>
</header>
<h2 id="about-react">About React</h2>
<p>virtual DOM is a lightweight in-memory representation of UI.</p>
<h2 id="composing-components">Composing Components</h2>
<h3 id="passing-data-to-components">Passing data to components</h3>
<p>使用 this.props 来获取父组件传递的数据</p>
<p>use this.props to passing data from father components to child components.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="co">// counters.jsx</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="op">&lt;</span>Counter key<span class="op">=</span>{counter<span class="op">.</span><span class="at">id</span>} value<span class="op">=</span>{counter<span class="op">.</span><span class="at">value</span>}<span class="op">&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>    <span class="op">&lt;</span>h4<span class="op">&gt;</span>Dialog<span class="op">&lt;/</span>h4<span class="op">&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="op">&lt;/</span>Counter<span class="op">&gt;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a><span class="co">// counter.jsx</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a><span class="fu">render</span>() {</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&quot;props&quot;</span><span class="op">,</span> <span class="kw">this</span><span class="op">.</span><span class="at">props</span>)<span class="op">;</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a>  <span class="op">...</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a>}</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a><span class="co">// {value: 4, children: {…$$typeof:{React Element}, type:&#39;h4&#39;}}</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true"></a><span class="co">// use **this.props.children** to get references</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true"></a><span class="fu">render</span>(){</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true"></a>    {<span class="kw">this</span><span class="op">.</span><span class="at">props</span><span class="op">.</span><span class="at">children</span>}</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true"></a>}</span></code></pre></div>
<h3 id="state-vs-props">State vs Props</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="co">// **state** is private, local and internal to that component,</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="co">// invisible to other components.</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="co">// **props** is read-only, so we need to put props to it&#39;s local state</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="co">// if we want to modify it.</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a>state <span class="op">=</span> {</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a>  <span class="dt">value</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="at">props</span><span class="op">.</span><span class="at">value</span><span class="op">,</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a>}<span class="op">;</span></span></code></pre></div>
<h3 id="raising-and-handling-events">Raising and handling events</h3>
<p>子组件引发一个事件，由父组件处理此事件</p>
<p>child component raising an event, and father component handling this event.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="co">// call handler in father components via **props**</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="co">// counters.jsx</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a>handleDelete <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&quot;Event Handler Called&quot;</span>)<span class="op">;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true"></a>    }<span class="op">;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true"></a><span class="fu">render</span>() {</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true"></a>    <span class="cf">return</span> (</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true"></a>      <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true"></a>        {<span class="kw">this</span><span class="op">.</span><span class="at">state</span><span class="op">.</span><span class="at">counters</span><span class="op">.</span><span class="fu">map</span>(counter <span class="kw">=&gt;</span> (</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true"></a>          <span class="op">&lt;</span>Counter</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true"></a>            onDelete<span class="op">=</span>{<span class="kw">this</span><span class="op">.</span><span class="at">handleDelete</span>}</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true"></a>          <span class="op">/&gt;</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true"></a>        ))}</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true"></a>      <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true"></a>    )<span class="op">;</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="co">// counter.jsx</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="fu">render</span>() {</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>    <span class="cf">return</span> (</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>        <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a>          <span class="op">&lt;</span>button</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a>            onClick<span class="op">=</span>{<span class="kw">this</span><span class="op">.</span><span class="at">props</span><span class="op">.</span><span class="at">onDelete</span>}</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a>            className<span class="op">=</span><span class="st">&quot;btn btn-danger btn-sm m-2&quot;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a>          <span class="op">&gt;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a>            Delete</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a>          <span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a>        <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true"></a>    )<span class="op">;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true"></a>}</span></code></pre></div>
<h3 id="update-state">Update State</h3>
<p>我们不直接修改 state 的值，而使用 setState 方法来更新 state</p>
<p>we don’t update state directly, we use <strong>setState</strong> method to update the state.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a>handleDelete <span class="op">=</span> (counterId) <span class="kw">=&gt;</span> {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>  <span class="co">// create a new array except the counter that delete button is clicked.</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>  <span class="kw">const</span> counters <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="at">state</span><span class="op">.</span><span class="at">counters</span><span class="op">.</span><span class="fu">filter</span>((c) <span class="kw">=&gt;</span> c<span class="op">.</span><span class="at">id</span> <span class="op">!==</span> counterId)<span class="op">;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a>  <span class="co">// overwrite the value</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a>  <span class="kw">this</span><span class="op">.</span><span class="fu">setState</span>({ <span class="dt">counters</span><span class="op">:</span> counters })<span class="op">;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a>}<span class="op">;</span></span></code></pre></div>
<h3 id="single-source-of-truth">Single source of truth</h3>
<p>remove the state from child component, and only rely under props to receive the data that component need. we refer this kind of component as controlled component.(doesn’t have it’s local state, receive all data via props, and raises events when data needs to be changed, so the component is entirely controlled by it’s parent. )</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="kw">class</span> Counter <span class="kw">extends</span> Component {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a>  <span class="fu">render</span>() {</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a>    <span class="cf">return</span> (</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a>      <span class="op">&lt;</span>React<span class="op">.</span><span class="at">Fragment</span><span class="op">&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true"></a>        <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true"></a>          <span class="op">&lt;</span>button</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true"></a>            onClick<span class="op">=</span>{() <span class="kw">=&gt;</span> <span class="kw">this</span><span class="op">.</span><span class="at">props</span><span class="op">.</span><span class="fu">onIncrement</span>(<span class="kw">this</span><span class="op">.</span><span class="at">props</span><span class="op">.</span><span class="at">counter</span>)}</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true"></a>            className<span class="op">=</span><span class="st">&quot;btn btn-secondary btn-sm&quot;</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true"></a>          <span class="op">&gt;</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true"></a>            Increment</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true"></a>          <span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true"></a>      <span class="op">&lt;/</span>React<span class="op">.</span><span class="at">Fragment</span><span class="op">&gt;</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true"></a>    )<span class="op">;</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true"></a>  }</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true"></a>}</span></code></pre></div>
<h3 id="stateless-functional-components">Stateless functional components</h3>
<p>Stateless Functional Component rather than Class Component, without local state.</p>
<p>note Stateless Functional Component don’t have <strong>this.props</strong>, we have to pass data use parameter <strong>props.</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="co">// navbar.jsx</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a><span class="kw">const</span> NavBar <span class="op">=</span> (props) <span class="kw">=&gt;</span> {</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a>  <span class="cf">return</span> (</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a>    <span class="op">&lt;</span>nav className<span class="op">=</span><span class="st">&quot;navbar navbar-light bg-light&quot;</span><span class="op">&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true"></a>      <span class="op">&lt;</span>a className<span class="op">=</span><span class="st">&quot;navbar-brand&quot;</span> href<span class="op">=</span><span class="st">&quot;#&quot;</span><span class="op">&gt;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true"></a>        Navbar{<span class="st">&quot; &quot;</span>}</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true"></a>        <span class="op">&lt;</span>span className<span class="op">=</span><span class="st">&quot;badge badge-pill badge-secondary&quot;</span><span class="op">&gt;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true"></a>          {props<span class="op">.</span><span class="at">totalCounters</span>}</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true"></a>        <span class="op">&lt;/</span>span<span class="op">&gt;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true"></a>      <span class="op">&lt;/</span>a<span class="op">&gt;</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true"></a>    <span class="op">&lt;/</span>nav<span class="op">&gt;</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true"></a>  )<span class="op">;</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true"></a>}<span class="op">;</span></span></code></pre></div>
<h3 id="destructing-arguments">Destructing arguments</h3>
<p>use destructing to simplify the code.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="co">// counter.jsx</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a><span class="fu">render</span>() {</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true"></a>    <span class="kw">const</span> { onIncrement<span class="op">,</span> onDelete<span class="op">,</span> counter } <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="at">props</span><span class="op">;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true"></a>    <span class="cf">return</span> (</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true"></a>      <span class="op">&lt;</span>React<span class="op">.</span><span class="at">Fragment</span><span class="op">&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true"></a>        <span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true"></a>          <span class="op">&lt;</span>span className<span class="op">=</span>{<span class="kw">this</span><span class="op">.</span><span class="fu">getBadgeClasses</span>()}<span class="op">&gt;</span>{<span class="kw">this</span><span class="op">.</span><span class="fu">formatCount</span>()}<span class="op">&lt;/</span>span<span class="op">&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true"></a>          <span class="op">&lt;</span>button</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true"></a>            onClick<span class="op">=</span>{() <span class="kw">=&gt;</span> <span class="fu">onIncrement</span>(counter)}</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true"></a>            className<span class="op">=</span><span class="st">&quot;btn btn-secondary btn-sm&quot;</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true"></a>          <span class="op">&gt;</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true"></a>            Increment</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true"></a>          <span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true"></a>          <span class="op">&lt;</span>button</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true"></a>            onClick<span class="op">=</span>{() <span class="kw">=&gt;</span> <span class="fu">onDelete</span>(counter<span class="op">.</span><span class="at">id</span>)}</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true"></a>            className<span class="op">=</span><span class="st">&quot;btn btn-danger btn-sm m-2&quot;</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true"></a>          <span class="op">&gt;</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true"></a>            Delete</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true"></a>          <span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true"></a>        <span class="op">&lt;/</span>div<span class="op">&gt;</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true"></a>      <span class="op">&lt;/</span>React<span class="op">.</span><span class="at">Fragment</span><span class="op">&gt;</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true"></a>    )<span class="op">;</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true"></a>  }</span></code></pre></div>
<h3 id="lifecycle-hooks">Lifecycle Hooks</h3>
<p>these are mainly used lifecycle hooks:</p>
<ol type="1">
<li><p><strong>MOUNT:</strong> constructor, render, componentDidMount. (when the component is created)</p></li>
<li><p><strong>UPDATE:</strong> render, componentDidMount (when the state or props of component is changed)</p></li>
<li><p><strong>UNMOUNT</strong>:componentWillUnmount (when the component is removed from the DOM)</p></li>
</ol>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a><span class="kw">class</span> App <span class="kw">extends</span> Component {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a>  state <span class="op">=</span> {}<span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true"></a><span class="fu">constructor</span>(props){</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true"></a>  <span class="kw">super</span>(props)<span class="op">;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true"></a>  <span class="kw">this</span><span class="op">.</span><span class="at">state</span> <span class="op">=</span> props<span class="op">;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true"></a>}</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true"></a><span class="co">// this method will call after rendered</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true"></a><span class="co">// best place to add ajax call to server</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true"></a><span class="fu">componentDidMount</span>(){</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true"></a>  <span class="co">//Ajax Call</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true"></a>  <span class="co">// data = ...</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true"></a>  <span class="kw">this</span><span class="op">.</span><span class="fu">setState</span>({ data })</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true"></a>}</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true"></a><span class="fu">render</span>() {</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true"></a>  <span class="cf">return</span> ()<span class="op">;</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true"></a>}</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true"></a>}</span></code></pre></div>
<p>note:</p>
<ol type="1">
<li>when a component is rendered, all its children are also rendered recursively.</li>
<li>you can only use lifecycle hooks in class components.</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a><span class="fu">componentDidUpdate</span>(prevProps<span class="op">,</span> prevState) {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true"></a>    <span class="cf">if</span> (prevProps<span class="op">.</span><span class="at">counter</span><span class="op">.</span><span class="at">value</span> <span class="op">!==</span> <span class="kw">this</span><span class="op">.</span><span class="at">props</span><span class="op">.</span><span class="at">counter</span><span class="op">.</span><span class="at">value</span>) {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true"></a>      <span class="co">// Ajax call and get new data from the server</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true"></a>    }</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true"></a>  }</span></code></pre></div>
<h2 id="ecmascript-6-new-features">ECMAScript 6 new features</h2>
<p>作用域(scope):</p>
<pre><code>const → block
let → block
var → function</code></pre>
<p>使用优先级：const &gt; let &gt; var, 只有在充分的理由下我们才使用 var。</p>
<p>priority: const &gt; let &gt; var, only use var when have valid reason.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a><span class="kw">const</span> person <span class="op">=</span> {</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a>  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Alex&quot;</span><span class="op">,</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true"></a>  <span class="fu">walk</span>() {</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">this</span>)<span class="op">;</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true"></a>  }<span class="op">,</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true"></a>}<span class="op">;</span></span></code></pre></div>
<p>const 变量不能被重新赋值，但其成员可以被重新赋值。</p>
<p>const can’t be reassigned, but its members can be reassigned.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>person<span class="op">.</span><span class="at">name</span> <span class="op">=</span> <span class="st">&quot;Embers&quot;</span><span class="op">;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(person<span class="op">.</span><span class="at">name</span>)<span class="op">;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true"></a><span class="co">// Embers</span></span></code></pre></div>
<h3 id="this">this</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a><span class="co">// obj.method() -&gt; this === obj</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a><span class="co">// function() -&gt; this === window || this === undefined (on strict mode)</span></span></code></pre></div>
<p>如果函数作为对象的方法被调用，this 会返回当前对象的引用。</p>
<p>if we call a function as <strong>method</strong> in one object, <strong>this</strong> will return the references to the current object.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a>person<span class="op">.</span><span class="fu">walk</span>()<span class="op">;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a><span class="co">//{name: &quot;Embers&quot;, walk: ƒ}</span></span></code></pre></div>
<p>如果函数作为一个独立的对象或在对象外的函数被调用，this 会返回 broswer 中的全局对象 window，在严格模式下则会返回 undefined.</p>
<p>if we call a function as a standalone object or outside of an object this will return the global object, which is the <strong>window</strong> object in browser, and in strict mode returns undefined.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a><span class="kw">const</span> walk <span class="op">=</span> person<span class="op">.</span><span class="at">walk</span><span class="op">;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a><span class="fu">walk</span>()<span class="op">;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a><span class="co">// undefined</span></span></code></pre></div>
<p>javascript 的函数是对象，包含属性和方法供我们使用。使用 bind() 方法可以获取对象的引用。</p>
<p>Functions in javascript is objects, they have properties and methods we can use. use bind() method can get the references of object.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a><span class="kw">const</span> walk <span class="op">=</span> person<span class="op">.</span><span class="at">walk</span><span class="op">.</span><span class="fu">bind</span>(person)<span class="op">;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true"></a><span class="fu">walk</span>()<span class="op">;</span></span></code></pre></div>
<h3 id="箭头函数">箭头函数</h3>
<p>箭头表示使函数更加清晰。</p>
<p>arrow functions is clearer.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a><span class="kw">const</span> jobs <span class="op">=</span> [</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true"></a>  { <span class="dt">id</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">isActive</span><span class="op">:</span> <span class="kw">true</span> }<span class="op">,</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true"></a>  { <span class="dt">id</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">isActive</span><span class="op">:</span> <span class="kw">true</span> }<span class="op">,</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true"></a>  { <span class="dt">id</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">isActive</span><span class="op">:</span> <span class="kw">false</span> }<span class="op">,</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true"></a>]<span class="op">;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true"></a><span class="kw">const</span> activateJobs <span class="op">=</span> jobs<span class="op">.</span><span class="fu">filter</span>((job) <span class="kw">=&gt;</span> job<span class="op">.</span><span class="at">isActive</span>)<span class="op">;</span></span></code></pre></div>
<p>箭头函数不会重新绑定 this 关键字，它会继承 this 关键字。</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a>arrow functions don<span class="st">&#39;t rebind this keyword, it will inherit the this keyword.</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true"></a><span class="co">// normal function</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true"></a><span class="kw">const</span> man <span class="op">=</span> {</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true"></a>  <span class="fu">talk</span>() {</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true"></a>    <span class="pp">setTimeout</span>(<span class="kw">function</span>() {</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">this</span>)<span class="op">;</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true"></a>    }<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true"></a>  }</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true"></a>}<span class="op">;</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true"></a>man<span class="op">.</span><span class="fu">talk</span>()<span class="op">;</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true"></a><span class="co">// Window {parent: Window, opener: null, top: Window, length: 0, frames: Window, …}</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true"></a><span class="co">// setTimeout callback function is not part of any objects.</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true"></a><span class="co">// arrow function</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true"></a><span class="kw">const</span> man <span class="op">=</span> {</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true"></a>  <span class="fu">talk</span>() {</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true"></a>    <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">this</span>)<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true"></a>  }</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true"></a>}<span class="op">;</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true"></a></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true"></a>man<span class="op">.</span><span class="fu">talk</span>()<span class="op">;</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true"></a><span class="co">// {talk: ƒ}</span></span></code></pre></div>
<h3 id="实用函数-array.map">实用函数: Array.map()</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a><span class="kw">const</span> colors <span class="op">=</span> [<span class="st">&quot;red&quot;</span><span class="op">,</span> <span class="st">&quot;green&quot;</span><span class="op">,</span> <span class="st">&quot;blue&quot;</span>]<span class="op">;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true"></a><span class="kw">const</span> items <span class="op">=</span> colors<span class="op">.</span><span class="fu">map</span>((color) <span class="kw">=&gt;</span> <span class="vs">`&lt;li&gt;</span><span class="sc">${</span>color<span class="sc">}</span><span class="vs">&lt;/li&gt;`</span>)<span class="op">;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(items)<span class="op">;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true"></a><span class="co">// [&quot;&lt;li&gt;red&lt;/li&gt;&quot;, &quot;&lt;li&gt;green&lt;/li&gt;&quot;, &quot;&lt;li&gt;blue&lt;/li&gt;&quot;]</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true"></a><span class="co">// template literal: `&lt;li&gt;${color}&lt;/li&gt;` equal to &quot;&lt;li&gt;&quot; + color + &quot;&lt;/li&gt;&quot;</span></span></code></pre></div>
<h3 id="object-destructing">Object destructing</h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a><span class="kw">const</span> address <span class="op">=</span> {</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true"></a>  <span class="dt">street</span><span class="op">:</span> <span class="st">&quot;some street&quot;</span><span class="op">,</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true"></a>  <span class="dt">city</span><span class="op">:</span> <span class="st">&quot;some city&quot;</span><span class="op">,</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true"></a>  <span class="dt">country</span><span class="op">:</span> <span class="st">&quot;some country&quot;</span><span class="op">,</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true"></a>}<span class="op">;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true"></a><span class="kw">const</span> street <span class="op">=</span> address<span class="op">.</span><span class="at">street</span><span class="op">;</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true"></a><span class="kw">const</span> city <span class="op">=</span> address<span class="op">.</span><span class="at">city</span><span class="op">;</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true"></a><span class="kw">const</span> country <span class="op">=</span> address<span class="op">.</span><span class="at">country</span><span class="op">;</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true"></a><span class="co">// equal to</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true"></a><span class="kw">const</span> { street<span class="op">,</span> city<span class="op">,</span> country } <span class="op">=</span> address<span class="op">;</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true"></a><span class="co">// and also can set an alias</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true"></a><span class="kw">const</span> { <span class="dt">street</span><span class="op">:</span> st } <span class="op">=</span> address<span class="op">;</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(st)<span class="op">;</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true"></a><span class="co">// some street</span></span></code></pre></div>
<h3 id="spread-operator">Spread operator</h3>
<p>spread operator is …</p>
<p>to concat array:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a><span class="kw">const</span> first <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>]<span class="op">;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true"></a><span class="kw">const</span> second <span class="op">=</span> [<span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span>]<span class="op">;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true"></a><span class="kw">const</span> combined <span class="op">=</span> first<span class="op">.</span><span class="fu">concat</span>(second)<span class="op">;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true"></a><span class="co">// equal to</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true"></a><span class="kw">const</span> combined1 <span class="op">=</span> [<span class="op">...</span>first<span class="op">,</span> <span class="op">...</span>second]<span class="op">;</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true"></a><span class="co">// it can also insert more elements</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true"></a><span class="kw">const</span> combined2 <span class="op">=</span> [<span class="op">...</span>first<span class="op">,</span> <span class="st">&quot;a&quot;</span><span class="op">,</span> <span class="op">...</span>second<span class="op">,</span> <span class="st">&quot;b&quot;</span>]<span class="op">;</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true"></a><span class="co">// and a easy way to clone an array</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true"></a><span class="kw">const</span> clone <span class="op">=</span> [<span class="op">...</span>first]<span class="op">;</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(clone)<span class="op">;</span></span></code></pre></div>
<p>concat objects:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a><span class="kw">const</span> first <span class="op">=</span> { <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Alex&quot;</span> }<span class="op">;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true"></a><span class="kw">const</span> second <span class="op">=</span> { <span class="dt">job</span><span class="op">:</span> <span class="st">&quot;student&quot;</span> }<span class="op">;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true"></a><span class="kw">const</span> combined <span class="op">=</span> { <span class="op">...</span>first<span class="op">,</span> <span class="op">...</span>second<span class="op">,</span> <span class="dt">location</span><span class="op">:</span> <span class="st">&quot;China&quot;</span> }<span class="op">;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(combined)<span class="op">;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true"></a><span class="co">// {name: &quot;Alex&quot;, job: &quot;student&quot;, location: &quot;China&quot;}</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true"></a><span class="co">// and a easy way to clone an object</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true"></a><span class="kw">const</span> clone <span class="op">=</span> { <span class="op">...</span>first }<span class="op">;</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(clone)<span class="op">;</span></span></code></pre></div>
<h3 id="classes">Classes</h3>
<p>类是创建该类型对象的蓝图。</p>
<p>the blueprint to create objects of that type.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a><span class="kw">class</span> Person {</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true"></a>  <span class="fu">constructor</span>(name) {</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true"></a>  }</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true"></a>  <span class="fu">walk</span>() {</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">this</span>)<span class="op">;</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true"></a>  }</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true"></a>}</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true"></a><span class="kw">const</span> person <span class="op">=</span> <span class="kw">new</span> <span class="fu">Person</span>(<span class="st">&quot;Alex&quot;</span>)<span class="op">;</span></span></code></pre></div>
<h3 id="inheritance">Inheritance</h3>
<div class="sourceCode" id="cb25"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a><span class="kw">class</span> Teacher <span class="kw">extends</span> Person {</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true"></a>  <span class="fu">constructor</span>(name<span class="op">,</span> degree) {</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true"></a>    <span class="co">// have to call super() to use father constructor</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true"></a>    <span class="kw">super</span>(name)<span class="op">;</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">degree</span> <span class="op">=</span> degree<span class="op">;</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true"></a>  }</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true"></a>  <span class="fu">teach</span>() {</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&quot;teach&quot;</span>)<span class="op">;</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true"></a>  }</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true"></a>}</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true"></a></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true"></a><span class="kw">const</span> teacher <span class="op">=</span> <span class="kw">new</span> <span class="fu">Teacher</span>(<span class="st">&quot;Alex&quot;</span><span class="op">,</span> <span class="st">&quot;Science&quot;</span>)<span class="op">;</span></span></code></pre></div>
<h3 id="modules">Modules</h3>
<p>from ES6 we have concept of modules natively in javascript.</p>
<p>引入模块的概念是为了<strong>模块化</strong> <strong>modularize</strong></p>
<p>模块默认是私有的，要让其成为公有的需要 export 到外部才可被其他模块导入。</p>
<p>module is default private. to make it public we need to export the class to the outside.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a><span class="co">// person.js</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true"></a><span class="im">export</span> <span class="kw">class</span> Person {</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true"></a>  <span class="fu">constructor</span>(name) {</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true"></a>  }</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true"></a>  <span class="fu">walk</span>() {</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">this</span>)<span class="op">;</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true"></a>  }</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true"></a>}</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true"></a><span class="co">// index.js</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true"></a><span class="im">import</span> { Person } <span class="im">from</span> <span class="st">&quot;./person&quot;</span><span class="op">;</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true"></a></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true"></a><span class="kw">const</span> person <span class="op">=</span> <span class="kw">new</span> <span class="fu">Person</span>(<span class="st">&quot;Alex&quot;</span>)<span class="op">;</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true"></a>person<span class="op">.</span><span class="fu">walk</span>()<span class="op">;</span></span></code></pre></div>
<h3 id="named-and-default-exports">Named and default exports</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a><span class="co">// Default -&gt; import ... from &quot;&quot;;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true"></a><span class="co">// Named -&gt; import { ... } from &quot;&quot;;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true"></a><span class="co">// teacher.js</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true"></a><span class="im">export</span> <span class="kw">function</span> <span class="fu">promote</span>() {}</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true"></a><span class="im">export</span> <span class="im">default</span> <span class="kw">class</span> Teacher{</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true"></a>    <span class="op">...</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true"></a>}</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true"></a><span class="co">// index.js</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true"></a><span class="im">import</span> Teacher<span class="op">,</span> { promote } <span class="im">from</span> <span class="st">&quot;./teacher&quot;</span><span class="op">;</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true"></a><span class="op">...</span></span></code></pre></div>
<h3 id="for-in-for-of">For … in &amp; for … of</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in">for in</a> loops over enumerable property names of an object.</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of">for of</a>(new in ES6) does use an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">object-specific <em>iterator</em></a> and loops over the values generated by that.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true"></a><span class="kw">var</span> arr <span class="op">=</span> [<span class="dv">3</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">7</span>]<span class="op">;</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true"></a>arr<span class="op">.</span><span class="at">foo</span> <span class="op">=</span> <span class="st">&quot;hello&quot;</span><span class="op">;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true"></a><span class="cf">for</span> (<span class="kw">var</span> i <span class="kw">in</span> arr) {</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(i)<span class="op">;</span> <span class="co">// logs &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;foo&quot;</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true"></a>}</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true"></a><span class="cf">for</span> (<span class="kw">var</span> i <span class="kw">of</span> arr) {</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(i)<span class="op">;</span> <span class="co">// logs &quot;3&quot;, &quot;5&quot;, &quot;7&quot;</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true"></a>  <span class="co">// it is does not log &quot;3&quot;, &quot;5&quot;, &quot;7&quot;, &quot;hello&quot;</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true"></a>}</span></code></pre></div>
<h3 id="references-course">References Course:</h3>
<p><a href="https://www.youtube.com/watch?v=Ke90Tje7VS0&amp;list=RDCMUCWv7vMbMWH4-V0ZXdmDpPBA&amp;start_radio=1&amp;t=566">React Tutorial - Learn React - React Crash Course [2019]</a></p>
<p><a href="https://www.youtube.com/watch?v=NCwa_xi0Uuc">JavaScript for React Developers | Mosh</a></p>
<h2 id="bug-修复及设置">Bug 修复及设置</h2>
<p>遇到 “gyp: No Xcode or CLT version detected!” 问题描述及解决方法：</p>
<p><a href="https://github.com/schnerd/d3-scale-cluster/issues/7#issuecomment-550579897">npm install fails on node-gyp rebuild with “gyp: No Xcode or CLT version detected!” · Issue #7 · schnerd/d3-scale-cluster</a></p>
<p>this.props.data.length always return 0:</p>
<p><a href="https://stackoverflow.com/questions/42986404/react-prop-array-length-returning-0">React prop array length returning 0</a></p>
<p>npm set Proxy:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true"></a><span class="ex">npm</span> config set proxy http://proxy.company.com:<span class="op">&lt;</span>port<span class="op">&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true"></a><span class="ex">npm</span> config set https-proxy http://proxy.company.com:<span class="op">&lt;</span>port<span class="op">&gt;</span></span></code></pre></div>
<p>npm show global installed packages:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true"></a><span class="ex">npm</span> list -g --depth 0</span></code></pre></div>
<h2 id="pic-tools">Pic Tools</h2>
<p><a href="https://picsum.photos/">Lorem Picsum</a></p>
<h1 id="code-style-guide">Code Style Guide</h1>
<p>We largely follow Airbnb’s React/JSX Style Guide:</p>
<p><a href="https://github.com/airbnb/javascript/tree/master/react">airbnb/javascript</a></p>
<footer>
  <hr />
  <p>
    <a href="../">
      <span>← 返回上一级</span>
    </a>
  </p>
  <p>
    <span>许可证：</span>
    <span
      ><a
        rel="license noopener"
        href="https://creativecommons.org/licenses/by-nc-nd/4.0/"
        target="_blank"
        >CC BY-NC-ND 4.0</a
      ></span
    >
  </p>
</footer>
</body>
</html>
